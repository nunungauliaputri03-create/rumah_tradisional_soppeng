<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pannellum Virtual Tour</title>
  <link rel="stylesheet" href="vtour.css">

  <!-- Pannellum CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum/build/pannellum.css"/>
  <script src="https://cdn.jsdelivr.net/npm/pannellum/build/pannellum.js"></script>
</head>

<body>

<!-- ===== TOP BAR ===== -->
<div class="top-bar">
  <a href="index.html" class="go-home">← Kembali ke Beranda</a>

  <h3 class="page-title">Pannellum Virtual Tour (Scenes 0 → 4)</h3>

  <div class="top-bar__actions">
    <button class="minimap-btn" onclick="showMinimap()">Tampilkan Minimap</button>
    <button id="toggleDragBtn" class="minimap-btn">Nonaktifkan Drag</button>
  </div>
</div>

<!-- ===== MINIMAP POPUP ===== -->
<div id="minimapModal" class="minimap-modal" onclick="hideMinimap()">
  <div class="minimap-modal-content">
    <img src="assets/images/minimap.png" alt="Minimap Virtual Tour">
  </div>
</div>

<!-- ===== SCENE BUTTONS ===== -->
<div class="scenes">
    <button onclick="viewer.loadScene('s0')">0</button>
    <button onclick="viewer.loadScene('s1')">1</button>
    <button onclick="viewer.loadScene('s2')">2</button>
    <button onclick="viewer.loadScene('s3')">3</button>
    <button onclick="viewer.loadScene('s4')">4</button>
</div>

<!-- ===== PANORAMA ===== -->
<div id="panorama"></div>

<!-- ===== SCRIPT VIEWER (TIDAK DIUBAH) ===== -->
<script>
// === Konfigurasi manual dengan hotspot eksplisit ===
var viewer = pannellum.viewer('panorama', {
    "default": {
        "firstScene": "s0",
        "autoLoad": true,
        "showControls": true
    },

    "scenes": {
        "s0": {
            "title": "bagian bawah",
            "type": "equirectangular",
            "panorama": "assets/360_images/bagian bawah.jpg",
            "pitch": 10,
            "hfov": 120,
            "hotSpots": [
                { "pitch": 10, "yaw": -3, "type": "scene", "sceneId": "s1", "text": "bagian dalam (1)" }
            ]
        },

        "s1": {
            "title": "bagian dalam (1)",
            "type": "equirectangular",
            "panorama": "assets/360_images/bagian dalam (1).jpg",
            "pitch": 10,
            "hfov": 120,
            "hotSpots": [
                { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s2", "text": "bagian dalam (2)" }
            ]
        },

        "s2": {
            "title": "bagian dalam (2)",
            "type": "equirectangular",
            "panorama": "assets/360_images/bagian dalam (2).jpg",
            "hfov": 120,
            "hotSpots": [
                { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s3", "text": "bagian depan tangga" }
            ]
        },

        "s3": {
            "title": "bagian depan tangga",
            "type": "equirectangular",
            "panorama": "assets/360_images/bagian depan tangga.jpg",
            "hfov": 120,
            "yaw": -180,
            "hotSpots": [
                { "pitch": 0, "yaw": -220, "type": "scene", "sceneId": "s4", "text": "bagian depan" }
            ]
        },

        "s4": {
            "title": "bagian depan",
            "type": "equirectangular",
            "panorama": "assets/360_images/bagian depan.jpg",
            "hfov": 120,
            "hotSpots": [
                { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s0", "text": "bagian bawah" }
            ]
        }
    }
});
</script>

<!-- ===== TOGGLE DRAG SCRIPT ===== -->
<script>
let dragAllowed = true;

document.getElementById("toggleDragBtn").onclick = function() {
    dragAllowed = !dragAllowed;
    viewer.setMouseZoom(dragAllowed);
    viewer.setDisableKeyboardCtrl(!dragAllowed);

    this.textContent = dragAllowed ? "Nonaktifkan Drag" : "Aktifkan Drag";
};
</script>

</body>
</html>
